<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>T√¥ m√†u ‚Äì Blue Sky</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/color.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- Prefetch trang S·∫£n ph·∫©m -->
  <link rel="prefetch" href="shop.html" as="document">
  <link rel="prefetch" href="css/shop.css" as="style">
  <link rel="prefetch" href="js/shop.js" as="script">

  <!-- JS -->
  <script defer src="js/base.js"></script>
  <script defer src="js/color.js"></script>

  <!-- (tu·ª≥ ch·ªçn) cu·ªôn m∆∞·ª£t -->
  <style>
    html { scroll-behavior: smooth; }
  </style>
</head>
<body>

  <!-- ==== HEADER ==== -->
  <header class="header">
    <div class="header-inner">
      <button class="menu-toggle" aria-label="M·ªü menu ƒëi·ªÅu h∆∞·ªõng" aria-controls="site-nav" aria-expanded="false">&#9776;</button>
      <img src="images/html/logo.png" alt="Logo Blue Sky" class="logo" />
      <nav class="nav" id="site-nav">
        <a href="index.html">Trang ch·ªß</a>
        <a href="about.html">Gi·ªõi thi·ªáu</a>
        <a href="shop.html">S·∫£n ph·∫©m</a>
        <a href="coloring.html" class="active" aria-current="page">T√¥ m√†u</a>
        <a href="events.html">S·ª± ki·ªán</a>
        <a href="contact.html">Li√™n h·ªá</a>
      </nav>
    </div>
  </header>

  <!-- ==== HERO COLOR (c·ªë ƒë·ªãnh chi·ªÅu cao, parallax nh·∫π qua base.js) ==== -->
<!-- ==== HERO COLOR ==== -->
<section class="hero hero-color" role="banner" aria-label="Color the Kite">
  <div class="hero-inner">
    <h1 class="hero-title">COLOR THE KITE</h1>
    <p class="hero-sub">T√¥ m√†u c√°nh di·ªÅu theo phong c√°ch c·ªßa b·∫°n</p>
    <!-- n√∫t ƒë√£ ƒë∆∞·ª£c b·ªè -->
  </div>
</section>

  <!-- ==== MAIN ==== -->
  <main>
    <!-- WORKSPACE: c√¥ng c·ª• t√¥ m√†u -->
    <section class="container box" id="workspace">
      <!-- Controls -->
      <div class="controls-row">
        <div class="select-area">
          <label class="sr-only" for="imageSelect">Ch·ªçn m·∫´u</label>
          <select id="imageSelect">
            <option disabled selected hidden>Blue Sky Kite</option>
            <option value="images/color/color/pilot.jpg">Pilot</option>
            <option value="images/color/color/pilotlung.jpg">Pilot (l∆∞ng)</option>
            <option value="images/color/color/cavang.jpg">C√° v√†ng</option>
            <option value="images/color/color/cathulu.jpg">C√° th√π l√π 8m</option>
            <option value="images/color/color/cathulu14.jpg">C√° th√π l√π 14m</option>
            <option value="images/color/color/cabuom.jpg">C√° bu·ªìm</option>
            <option value="images/color/color/canemo.jpg">C√° Nemo</option>
            <option value="images/color/color/bohung.jpg">B·ªç hung</option>
            <option value="images/color/color/haicau.jpg">H·∫£i c·∫©u</option>
            <option value="images/color/color/caheo.jpg">C√° heo</option>
          </select>
        </div>

        <div class="upload-area">
          <label for="uploadInput" class="upload-label" title="T·∫£i ·∫£nh c·ªßa b·∫°n">‚¨ÜÔ∏è Upload</label>
          <input type="file" id="uploadInput" accept="image/*" hidden>
        </div>
      </div>

      <!-- Toolbars -->
      <div class="tool-row">
        <button id="fillModeBtn" class="mode-btn active" type="button" aria-pressed="true">üñåÔ∏è Fill</button>
        <button id="brushModeBtn" class="mode-btn" type="button" aria-pressed="false">‚úçÔ∏è Brush</button>
        <button id="eraserModeBtn" class="mode-btn" type="button" aria-pressed="false">üßº Erase</button>

        <select id="brushSizeSelect" class="brush-size-select">
          <option value="1">Size 1x</option>
          <option value="2">Size 2x</option>
          <option value="3">Size 3x</option>
          <option value="4">Size 4x</option>
          <option value="5" selected>Size 5x</option>
          <option value="6">Size 6x</option>
          <option value="7">Size 7x</option>
          <option value="8">Size 8x</option>
          <option value="9">Size 9x</option>
          <option value="10">Size 10x</option>
        </select>
      </div>

      <div class="tool-row text-tools-row">
        <button id="textModeBtn" class="mode-btn" type="button" aria-pressed="false">üìù Text</button>
        <button id="boldBtn" type="button" title="In ƒë·∫≠m">üî† Bold text</button>
        <button id="deleteTextBtn" type="button" title="Xo√° khung ch·ªØ hi·ªán t·∫°i">üóëÔ∏è Delete Text</button>
      </div>

      <div id="colorPalette" class="palette" aria-label="B·∫£ng m√†u"></div>
<div id="colorInfo" class="color-info">
  <span id="colorInfoText">Chosen color (Vietnamese): Ch∆∞a ch·ªçn</span>
</div>


      <div class="canvas-container">
        <div class="canvas-wrapper">
          <canvas id="canvas" aria-label="Khu v·ª±c t√¥ m√†u"></canvas>
        </div>
      </div>

      <div class="action-row">
        <div class="action-left">
          <button id="undoBtn" type="button" title="Ho√†n t√°c">‚Ü©Ô∏è Undo</button>
          <button id="redoBtn" type="button" title="L√†m l·∫°i">‚Ü™Ô∏è Redo</button>
        </div>
        <div class="action-right">
          <button id="downloadBtn" type="button" title="T·∫£i ·∫£nh ƒë√£ t√¥">üíæ Save Image</button>
        </div>
      </div>

      <p class="note">
        üìå <strong>Note:</strong> Please upload images with clear outlines and no blurring or overlapping colors to ensure accurate and effective coloring.
      </p>
    </section>
  </main>

  <!-- ==== FOOTER ==== -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="social-links">
        <!-- Phone -->
        <a href="tel:+84903082089" class="social-icon phone" data-tooltip="G·ªçi ngay cho ch√∫ng t√¥i" aria-label="ƒêi·ªán tho·∫°i">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 
                     1.2.4 2.5.7 3.8.7.6 0 1 .5 1 1v3.5c0 .6-.4 1-1 1C10.7 21 3 13.3 
                     3 4.7c0-.6.5-1 1-1H7.5c.6 0 1 .4 1 1 0 1.3.3 2.6.7 3.8.1.4 0 
                     .8-.3 1.1l-2.3 2.2z"/>
          </svg>
        </a>

        <!-- Zalo -->
        <a href="https://zalo.me/0903082089" class="social-icon zalo" data-tooltip="Chat v·ªõi ch√∫ng t√¥i qua Zalo" target="_blank" rel="noopener" aria-label="Zalo">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20 2H4C2.9 2 2 2.9 2 4v18l4-4h14c1.1 0 2-.9 
                     2-2V4c0-1.1-.9-2-2-2zm-9 11H7v-2h4v2zm6-4H7V7h10v2z"/>
          </svg>
        </a>

        <!-- Facebook -->
        <a href="https://www.facebook.com/profile.php?id=100010250733315" class="social-icon facebook" data-tooltip="ƒê·∫øn v·ªõi trang Facebook c·ªßa ch√∫ng t√¥i" target="_blank" rel="noopener" aria-label="Facebook">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 24 24">
            <path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2c0-2 
                     1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 
                     1.2v1.8h2.3l-.4 3h-1.9v7A10 10 0 0 0 22 12z"/>
          </svg>
        </a>

        <!-- Instagram -->
        <a href="https://www.instagram.com/" class="social-icon instagram" data-tooltip="Theo d√µi ch√∫ng t√¥i tr√™n Instagram" target="_blank" rel="noopener" aria-label="Instagram">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 
                     5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 
                     2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 
                     3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 
                     3-3h10zm-5 3a5 5 0 1 0 0 10 
                     5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 
                     6 3 3 0 0 1 0-6zm4.8-.9a1.1 1.1 
                     0 1 0 0-2.2 1.1 1.1 0 0 0 0 2.2z"/>
          </svg>
        </a>
      </div>

      <p class="footer-copy">¬© 2025 Blue Sky. All rights reserved.</p>
    </div>
  </footer>

  <!-- ‚ö°Ô∏è In-app browser warning -->
  <script>
    (function () {
      function detectInApp() {
        const ua = navigator.userAgent || navigator.vendor || window.opera || "";
        if (/FBAN|FBAV/i.test(ua)) return "Facebook";
        if (/Instagram/i.test(ua)) return "Instagram";
        if (/Zalo/i.test(ua)) return "Zalo";
        if (/Line/i.test(ua)) return "Line";
        if (/TikTok/i.test(ua)) return "TikTok";
        if (/Android/i.test(ua) && /\bwv\b/i.test(ua)) return "App Android";
        return null;
      }
      function isAndroid() { return /Android/i.test(navigator.userAgent); }
      function isIOS() { return /iPhone|iPad|iPod/i.test(navigator.userAgent); }
      function isSamsungDevice() { return /Samsung/i.test(navigator.userAgent); }

      function copyToClipboard(text) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          return navigator.clipboard.writeText(text);
        }
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.style.position = "fixed";
        ta.style.top = "-1000px";
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        let ok = false;
        try { ok = document.execCommand("copy"); } catch {}
        document.body.removeChild(ta);
        return ok ? Promise.resolve() : Promise.reject();
      }
      function showToast(msg) {
        const toast = document.createElement("div");
        toast.textContent = msg;
        toast.style.cssText = "position:fixed;left:50%;bottom:28px;transform:translateX(-50%);background:rgba(0,0,0,.85);color:#fff;padding:10px 14px;border-radius:12px;font-size:14px;z-index:10000;box-shadow:0 6px 20px rgba(0,0,0,.25);";
        document.body.appendChild(toast);
        setTimeout(() => { toast.style.opacity = '0'; toast.style.transition = 'opacity .3s'; }, 1500);
        setTimeout(() => { toast.remove(); }, 1900);
      }
      function buildButton(text, id, primary=false) {
        const btn = document.createElement("button");
        btn.id = id; btn.type = "button"; btn.textContent = text;
        btn.style.cssText = `padding:12px 14px;font-size:15px;border:none;border-radius:10px;cursor:pointer;flex:1 1 auto;min-width:160px;${primary?"background:#1976d2;color:#fff;box-shadow:0 4px 12px rgba(25,118,210,.35);":"background:#f1f3f5;color:#111;border:1px solid #e5e7eb;"}`;
        return btn;
      }

      function showInAppWarning() {
        const appName = detectInApp();
        if (!appName) return;

        const overlay = document.createElement("div");
        overlay.id = "inAppOverlay";
        overlay.style.cssText = "position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;padding:20px;";

        const card = document.createElement("div");
        card.style.cssText = "width:min(640px,92vw);background:#fff;color:#000;border-radius:16px;padding:22px;text-align:center;box-shadow:0 12px 36px rgba(0,0,0,.26);";

        const h2 = document.createElement("h2");
        h2.textContent = `‚ö†Ô∏è ƒêang m·ªü t·ª´ ${appName}`;
        h2.style.cssText = "margin:0 0 8px;font-size:20px;";

        const p1 = document.createElement("p");
        p1.innerHTML = `Tr√¨nh duy·ªát b√™n trong ·ª©ng d·ª•ng <b>${appName}</b> c√≥ th·ªÉ <b>kh√¥ng h·ªó tr·ª£</b> ch·ª©c nƒÉng <b>L∆∞u ·∫£nh</b> c·ªßa trang T√¥ m√†u.`;
        p1.style.cssText = "margin:0 0 12px;font-size:14px;color:#333;";

        const tip = document.createElement("div");
        tip.style.cssText = "background:#f8fafc;border:1px solid #e5e7eb;color:#111;padding:12px;border-radius:12px;text-align:left;font-size:14px;margin:12px 0 16px;";

        if (isAndroid()) {
          tip.innerHTML = `
            <div style="font-weight:600;margin-bottom:6px;">C√°ch 1 (ƒë·ªÅ xu·∫•t): M·ªü b·∫±ng tr√¨nh duy·ªát ngo√†i</div>
            <ol style="margin:0 0 6px 18px;padding:0;">
              <li>Nh·∫•n <b>M·ªü b·∫±ng Chrome</b> ho·∫∑c <b>M·ªü b·∫±ng Samsung Internet</b> b√™n d∆∞·ªõi.</li>
            </ol>
            <div style="font-weight:600;margin:10px 0 6px;">C√°ch 2: Sao ch√©p link v√† m·ªü th·ªß c√¥ng</div>
            <ol style="margin:0 0 0 18px;padding:0;">
              <li>Nh·∫•n <b>Sao ch√©p li√™n k·∫øt</b>.</li>
              <li>M·ªü Chrome/Samsung Internet v√† d√°n li√™n k·∫øt ƒë·ªÉ truy c·∫≠p l·∫°i.</li>
            </ol>
          `;
        } else if (isIOS()) {
          tip.innerHTML = `
            <div style="font-weight:600;margin-bottom:6px;">C√°ch m·ªü b·∫±ng Safari/Chrome tr√™n iPhone/iPad</div>
            <ol style="margin:0 0 0 18px;padding:0;">
              <li>Ch·∫°m v√†o bi·ªÉu t∆∞·ª£ng <b>‚ãØ</b> (ho·∫∑c <b>‚Ä¢‚Ä¢‚Ä¢</b>) ·ªü g√≥c.</li>
              <li>Ch·ªçn <b>Open in Safari</b> / <b>M·ªü trong Safari</b> (ho·∫∑c <b>Open in Browser</b>).</li>
              <li>N·∫øu kh√¥ng th·∫•y, h√£y <b>Sao ch√©p li√™n k·∫øt</b> r·ªìi d√°n v√†o Safari/Chrome.</li>
            </ol>
          `;
        } else {
          tip.textContent = "H√£y m·ªü trang b·∫±ng tr√¨nh duy·ªát h·ªá th·ªëng ƒë·ªÉ s·ª≠ d·ª•ng ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng L∆∞u ·∫£nh.";
        }

        const btnRow = document.createElement("div");
        btnRow.style.cssText = "display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px;";

        const stayBtn = buildButton("·ªû l·∫°i trang", "stayBtn");
        const copyBtn = buildButton("Sao ch√©p li√™n k·∫øt", "copyBtn");
        const chromeBtn = buildButton("M·ªü b·∫±ng Chrome", "openChromeBtn", true);
        const samsungBtn = buildButton("M·ªü b·∫±ng Samsung Internet", "openSamsungBtn", true);

        if (isAndroid()) {
          btnRow.appendChild(chromeBtn);
          if (isSamsungDevice()) btnRow.appendChild(samsungBtn);
          btnRow.appendChild(copyBtn);
          btnRow.appendChild(stayBtn);
        } else if (isIOS()) {
          btnRow.appendChild(copyBtn);
          btnRow.appendChild(stayBtn);
        } else {
          btnRow.appendChild(copyBtn);
          btnRow.appendChild(stayBtn);
        }

        card.appendChild(h2);
        card.appendChild(p1);
        card.appendChild(tip);
        card.appendChild(btnRow);
        overlay.appendChild(card);
        document.body.appendChild(overlay);

        stayBtn.addEventListener("click", () => overlay.remove());
        copyBtn.addEventListener("click", async () => {
          try { await copyToClipboard(location.href); showToast("ƒê√£ sao ch√©p li√™n k·∫øt!"); }
          catch { showToast("Kh√¥ng th·ªÉ sao ch√©p, vui l√≤ng sao ch√©p th·ªß c√¥ng."); }
        });

        if (isAndroid()) {
          chromeBtn.addEventListener("click", () => {
            const intentUrl = `intent://${location.host}${location.pathname}${location.search}#Intent;scheme=${location.protocol.replace(':','')};package=com.android.chrome;end`;
            window.location.href = intentUrl;
          });
          if (isSamsungDevice()) {
            samsungBtn.addEventListener("click", () => {
              const intentUrl = `intent://${location.host}${location.pathname}${location.search}#Intent;scheme=${location.protocol.replace(':','')};package=com.sec.android.app.sbrowser;end`;
              window.location.href = intentUrl;
            });
          }
        }
      }

      window.addEventListener("DOMContentLoaded", showInAppWarning);
    })();
  </script>

</body>
</html>
